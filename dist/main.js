(()=>{function e(){const t=document.getElementById("content");t.innerHTML="",t.appendChild(s);for(var r=0;r<n.length;r++){var c=n[r].header,d=n[r].tasks,i=document.createElement("div");i.className="section",i.dataset.sec=r;var l=document.createElement("div"),o=document.createElement("img");o.src="../images/dots-vertical.svg",o.style.width="20px",o.className="triple-dot";var m=document.createElement("div");m.className="drop-down",m.dataset.sec=r;var p=document.createElement("div");p.textContent="Delete",p.addEventListener("click",(e=>{var t=e.currentTarget.parentElement.dataset.sec;n.splice(t,1);var a=document.querySelector("[data-sec="+CSS.escape(t)+"]");a.querySelector(".section-container").style.opacity="0",a.style.maxHeight="0px",a.style.fontSize="0px",setTimeout((function(){a.remove()}),500)})),m.appendChild(p),l.appendChild(o),l.appendChild(m);var u=document.createElement("div");u.className="section-container",u.dataset.sec=r;var v=document.createElement("div");v.textContent=c,v.className="section-header",v.appendChild(l),v.addEventListener("mouseenter",(e=>{e.currentTarget.querySelector("img").style.opacity="1"})),v.addEventListener("mouseleave",(e=>{e.currentTarget.querySelector("img").style.opacity="0"}));var y=document.createElement("div");y.className="add-task",y.innerHTML='<img src="../images/plus.svg" width="20px" height="20px">';var E=document.createElement("input");E.placeholder="Add Task",E.type="text",E.addEventListener("focusin",(e=>{e.currentTarget.parentElement.style.opacity="1"})),E.addEventListener("focusout",(e=>{e.currentTarget.parentElement.style.opacity="0.5"})),E.addEventListener("keydown",(t=>{if("Enter"===t.code){var s=t.currentTarget;if(""!==s.value){var r=a(s.value);n[parseInt(s.parentElement.parentElement.parentElement.dataset.sec)].tasks.push(r),e(),s.value="",s.blur()}}})),y.appendChild(E),u.appendChild(v),u.appendChild(y),i.appendChild(u);for(var g=0;g<d.length;g++){var h=document.createElement("div");h.className="task",h.textContent=d[g].name,h.dataset.sec=r,h.dataset.task=g,h.addEventListener("mouseenter",(e=>{e.currentTarget.querySelector("img").style.opacity="1"})),h.addEventListener("mouseleave",(e=>{e.currentTarget.querySelector("img").style.opacity="0"}));var f=document.createElement("div"),k=document.createElement("div");k.className="drop-down";var L=document.createElement("div");L.textContent="Delete",k.dataset.sec=r,k.dataset.task=g,L.addEventListener("click",(e=>{var t=e.currentTarget.parentElement.dataset.sec,a=e.currentTarget.parentElement.dataset.task;n[t].removeTask(a);var s=document.querySelector("[data-sec="+CSS.escape(t)+"][data-task="+CSS.escape(a)+"]");s.children[0].style.display="none",s.style.maxHeight="0px",s.style.opacity="0",s.style.fontSize="0",s.style.padding="0",setTimeout((function(){s.remove()}),700)})),k.appendChild(L),f.appendChild(o.cloneNode("true")),f.appendChild(k),h.appendChild(f),u.insertBefore(h,y)}t.insertBefore(i,s)}}function t(e){return e*parseFloat(getComputedStyle(document.documentElement).fontSize)}const a=e=>{let t;return{name:e,dueDate:t,changeDueDate:e=>{t=e}}};var n=[];const s=document.getElementById("add-section"),r=document.getElementById("new-section-name");document.addEventListener("click",(e=>{var a=document.querySelector(".active");if(a&&a.parentElement!==e.target.parentElement&&!a.contains(e.target)&&(a.classList.remove("active"),a.style.opacity="0",a.parentElement.parentElement.classList.contains("task")?a.style.bottom="-"+(a.offsetHeight-t(.5)-15)+"px":a.style.bottom="-"+(a.offsetHeight-15)+"px",setTimeout((function(){a.style.visibility="hidden"}),300)),e.target.classList.contains("triple-dot")){var n=e.target.parentElement.querySelector(".drop-down");n.classList.add("active"),n.parentElement.parentElement.classList.contains("task")?n.style.bottom="-"+(n.offsetHeight-t(.5)-15)+"px":n.style.bottom="-"+(n.offsetHeight-15)+"px",n.style.visibility="visible",n.parentElement.parentElement.classList.contains("task")?n.style.bottom="-"+(n.offsetHeight-t(.5))+"px":n.style.bottom="-"+n.offsetHeight+"px",n.style.opacity="1"}})),s.addEventListener("click",(()=>{r.focus()})),r.addEventListener("focusin",(()=>{s.style.opacity="1",s.style.cursor="text"})),r.addEventListener("focusout",(()=>{s.style.opacity="0.5",s.style.cursor="pointer"})),r.addEventListener("keydown",(t=>{if("Enter"===t.code&&""!==r.value){var a=(e=>{let t=[];return{header:e,tasks:t,addTask:e=>{t.push(e)},removeTask:e=>{t.splice(e,1)}}})(r.value);n.push(a),e(),r.value="",r.blur()}}))})();