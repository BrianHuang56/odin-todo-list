(()=>{function e(e){return e*parseFloat(getComputedStyle(document.documentElement).fontSize)}const t=e=>({name:e,dueDate:undefined,desc:""});var n=[];const a=document.getElementById("add-section"),s=document.getElementById("new-section-name");document.addEventListener("click",(t=>{var n=document.querySelector(".active");if(n&&n.parentElement!==t.target.parentElement&&!n.contains(t.target)&&(n.classList.remove("active"),n.style.opacity="0",n.parentElement.parentElement.classList.contains("task")?n.style.bottom="-"+(n.offsetHeight-e(.5)-15)+"px":n.style.bottom="-"+(n.offsetHeight-15)+"px",setTimeout((function(){n.style.visibility="hidden"}),300)),t.target.classList.contains("triple-dot")){var a=t.target.parentElement.querySelector(".drop-down");a.classList.add("active"),a.parentElement.parentElement.classList.contains("task")?a.style.bottom="-"+(a.offsetHeight-e(.5)-15)+"px":a.style.bottom="-"+(a.offsetHeight-15)+"px",a.style.visibility="visible",a.parentElement.parentElement.classList.contains("task")?a.style.bottom="-"+(a.offsetHeight-e(.5))+"px":a.style.bottom="-"+a.offsetHeight+"px",a.style.opacity="1"}})),a.addEventListener("click",(()=>{s.focus()})),s.addEventListener("focusin",(()=>{a.style.opacity="1",a.style.cursor="text"})),s.addEventListener("focusout",(()=>{a.style.opacity="0.5",a.style.cursor="pointer"})),s.addEventListener("keydown",(e=>{if("Enter"===e.code&&""!==s.value){var a=(e=>{let t=[];return{header:e,tasks:t,removeTask:e=>{t.splice(e,1)}}})(s.value);n.push(a),function(){const e=n.length-1,a=document.createElement("div");a.className="section",a.dataset.sec=e;const s=document.createElement("div"),c=document.createElement("img");c.src="../images/dots-vertical.svg",c.style.width="20px",c.className="triple-dot";const o=document.createElement("div");o.className="drop-down",o.dataset.sec=e;const d=document.createElement("div");d.textContent="Delete",d.addEventListener("click",(e=>{const t=e.currentTarget.parentElement.dataset.sec;n.splice(t,1);const a=document.querySelector("[data-sec="+CSS.escape(t)+"]");a.querySelector(".section-container").style.opacity="0",a.style.maxHeight="0px",a.style.fontSize="0px",setTimeout((function(){a.remove()}),300)})),o.appendChild(d),s.appendChild(c),s.appendChild(o);const r=document.createElement("div");r.className="section-container",r.dataset.sec=n.length-1;const i=document.createElement("div");i.textContent=n[e].header,i.className="section-header",i.appendChild(s),i.addEventListener("mouseenter",(e=>{e.currentTarget.querySelector("img").style.opacity="1"})),i.addEventListener("mouseleave",(e=>{e.currentTarget.querySelector("img").style.opacity="0"}));const l=document.createElement("div");l.className="add-task",l.innerHTML='<img src="../images/plus.svg" width="20px" height="20px">';const m=document.createElement("input");m.placeholder="Add Task",m.type="text",m.addEventListener("focusin",(e=>{e.currentTarget.parentElement.style.opacity="1"})),m.addEventListener("focusout",(e=>{e.currentTarget.parentElement.style.opacity="0.5"})),m.addEventListener("keydown",(a=>{if("Enter"===a.code){const s=a.currentTarget;if(""!==s.value){const a=t(s.value);n[e].tasks.push(a),function(e,t){const a=n[t].tasks.length-1,s=document.createElement("div");s.className="task",s.textContent=e.name,s.dataset.sec=t,s.dataset.task=a,s.addEventListener("mouseenter",(e=>{e.currentTarget.querySelector("img").style.opacity="1"})),s.addEventListener("mouseleave",(e=>{e.currentTarget.querySelector("img").style.opacity="0"}));var c=document.createElement("div"),o=document.createElement("div");o.className="drop-down";var d=document.createElement("div");d.textContent="Delete",o.dataset.sec=t,o.dataset.task=a,d.addEventListener("click",(()=>{var e=t,s=a;n[e].removeTask(s);var c=document.querySelector("[data-sec="+CSS.escape(e)+"][data-task="+CSS.escape(s)+"]");c.children[0].style.display="none",c.style.maxHeight="0px",c.style.opacity="0",c.style.fontSize="0",c.style.padding="0",setTimeout((function(){c.remove()}),300)}));const r=document.createElement("img");r.src="../images/dots-vertical.svg",r.style.width="20px",r.className="triple-dot",o.appendChild(d),c.appendChild(r),c.appendChild(o),s.appendChild(c);const i=document.querySelector("[data-sec="+CSS.escape(t)+"] .section-container"),l=i.querySelector(".add-task");i.insertBefore(s,l)}(a,e),s.value="",s.blur()}}})),l.appendChild(m),r.appendChild(i),r.appendChild(l),a.appendChild(r);const p=document.getElementById("add-section"),u=p.parentElement;u.appendChild(a);const y=parseInt(u.dataset.col)+1;(3===y?document.querySelector("[data-col="+CSS.escape(0)+"]"):document.querySelector("[data-col="+CSS.escape(y)+"]")).appendChild(p)}(),s.value="",s.blur()}}))})();