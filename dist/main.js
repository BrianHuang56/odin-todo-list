(()=>{function e(e){return e*parseFloat(getComputedStyle(document.documentElement).fontSize)}function t(e){const t=e.querySelector(".new-section-input");e.addEventListener("click",(()=>{t.focus()})),t.addEventListener("focusin",(()=>{e.style.opacity="1",e.style.cursor="text"})),t.addEventListener("focusout",(()=>{e.style.opacity="0.5",e.style.cursor="pointer"})),t.addEventListener("keydown",(e=>{if("Enter"===e.code&&""!==t.value){var c=n(t.value);a.push(c),function(e){const t=a.length-1,n=document.createElement("div");n.className="section",n.dataset.sec=t;const c=document.createElement("div"),o=document.createElement("img");o.src="../images/dots-vertical.svg",o.style.width="20px",o.className="triple-dot";const r=document.createElement("div");r.className="drop-down",r.dataset.sec=t;const i=document.createElement("div");i.textContent="Delete",i.addEventListener("click",(()=>{a.splice(t,1);const e=document.querySelector("[data-sec="+CSS.escape(t)+"]");e.querySelector(".section-container").style.opacity="0",e.style.maxHeight="0px",e.style.fontSize="0px",setTimeout((function(){e.remove()}),300)})),r.appendChild(i),c.appendChild(o),c.appendChild(r);const d=document.createElement("div");d.className="section-container",d.dataset.sec=a.length-1;const l=document.createElement("div");l.textContent=a[t].header,l.className="section-header",l.appendChild(c),l.addEventListener("mouseenter",(e=>{e.currentTarget.querySelector("img").style.opacity="1"})),l.addEventListener("mouseleave",(e=>{e.currentTarget.querySelector("img").style.opacity="0"}));const m=document.createElement("div");m.className="add-task",m.innerHTML='<img src="../images/plus.svg" width="20px" height="20px">';const u=document.createElement("input");u.placeholder="Add Task",u.type="text",u.addEventListener("focusin",(e=>{e.currentTarget.parentElement.style.opacity="1"})),u.addEventListener("focusout",(e=>{e.currentTarget.parentElement.style.opacity="0.5"})),u.addEventListener("keydown",(e=>{if("Enter"===e.code){const n=e.currentTarget;if(""!==n.value){const e=s(n.value);a[t].tasks.push(e),function(e,t){const n=a[t].tasks.length-1,s=document.createElement("div");s.className="task",s.textContent=e.name,s.dataset.sec=t,s.dataset.task=n,s.addEventListener("mouseenter",(e=>{e.currentTarget.querySelector("img").style.opacity="1"})),s.addEventListener("mouseleave",(e=>{e.currentTarget.querySelector("img").style.opacity="0"}));const c=document.createElement("div"),o=document.createElement("div");o.className="drop-down";const r=document.createElement("div");r.textContent="Delete",o.dataset.sec=t,o.dataset.task=n,r.addEventListener("click",(()=>{a[secNum].removeTask(e);var s=document.querySelector("[data-sec="+CSS.escape(t)+"][data-task="+CSS.escape(n)+"]");s.children[0].style.display="none",s.style.maxHeight="0px",s.style.opacity="0",s.style.fontSize="0",s.style.padding="0",setTimeout((function(){s.remove()}),300)}));const i=document.createElement("img");i.src="../images/dots-vertical.svg",i.style.width="20px",i.className="triple-dot",o.appendChild(r),c.appendChild(i),c.appendChild(o),s.appendChild(c);const d=document.querySelector("[data-sec="+CSS.escape(t)+"] .section-container"),l=d.querySelector(".add-task");d.insertBefore(s,l)}(e,t),n.value="",n.blur()}}})),m.appendChild(u),d.appendChild(l),d.appendChild(m),n.appendChild(d);const p=document.querySelector("[data-col="+CSS.escape(e)+"]"),y=p.querySelector(".add-section");p.insertBefore(n,y)}(e.currentTarget.parentElement.dataset.col),t.value="",t.blur()}}))}const n=e=>{let t=[];return{header:e,tasks:t,removeTask:e=>{t.splice(e,1)}}},s=e=>({name:e,dueDate:undefined,desc:""});var a=[];const c=document.getElementsByClassName("add-section");for(var o=0;o<c.length;o++)t(c[o]);document.addEventListener("click",(t=>{var n=document.querySelector(".active");if(n&&n.parentElement!==t.target.parentElement&&!n.contains(t.target)&&(n.classList.remove("active"),n.style.opacity="0",n.parentElement.parentElement.classList.contains("task")?n.style.bottom="-"+(n.offsetHeight-e(.5)-15)+"px":n.style.bottom="-"+(n.offsetHeight-15)+"px",setTimeout((function(){n.style.visibility="hidden"}),300)),t.target.classList.contains("triple-dot")){var s=t.target.parentElement.querySelector(".drop-down");s.classList.add("active"),s.parentElement.parentElement.classList.contains("task")?s.style.bottom="-"+(s.offsetHeight-e(.5)-15)+"px":s.style.bottom="-"+(s.offsetHeight-15)+"px",s.style.visibility="visible",s.parentElement.parentElement.classList.contains("task")?s.style.bottom="-"+(s.offsetHeight-e(.5))+"px":s.style.bottom="-"+s.offsetHeight+"px",s.style.opacity="1"}}))})();